\chapter{ATIVIDADES DESENVOLVIDAS}

Este capítulo apresentará a documentação técnica de um produto na forma de software, inicialmente por meio de uma \textit{API (Application Programming Interface)}, como possível solução da problemática em questão. Na sequência, será abordado sobre a arquitetura do sistema, escopo do projeto, questões de armazenamento de dados e acerca das tecnologias escolhidas para o desenvolvimento da aplicação. Ademais, o projeto possui apenas fins educacionais e exemplificativos até o presente momento.

\section{Escopo do Projeto}

O projeto em questão tem o objetivo de oferecer uma maneira ágil de buscar ou divulgar caronas, inovando a prática que já ocorre na região, mas de maneira bagunçada e com pouco alcance, permitindo, agora, por meio da aplicação, uma comunicação mais eficiente entre os envolvidos, mais segurança, além de possibilitar valores mais justos para todos os envolvidos. 

Para consolidar tal objetivo, foi desenvolvida uma \textit{API} que permitirá futuras adaptações para um aplicativo mobile. Essa \textit{API} será responsável por gerenciar o cadastro e autenticação dos usuários, possibilitando aos cadastrados a solicitação e divulgação de caronas na região. Além disso, ela incluirá a possibilidade de avaliar os usuários por meio do histórico de viagens, garantindo a segurança dos envolvidos.

Futuramente poderá ser projetado novas funcionalidades, como integrações com serviços de pagamento e soluções de validação de documentos. O projeto será desenvolvido com foco em escalabilidade, segurança de dados e alta disponibilidade, garantindo uma experiência fluida e segura tanto para motoristas quanto para passageiros.


%Defina os limites do projeto, ou seja, o que está incluído no escopo e o que está excluído. Isso ajuda a evitar mal-entendidos futuros.

%Liste e explique as funcionalidades e recursos do sistema. Isso pode incluir ações que os usuários podem realizar, como login, busca, envio de informações etc. Apresente aqui o Levantamento de Requisitos contendo os Requisitos Funcionais (RF) e os Não-Funcionais (RNF);

% INICIO banco de dados
\section{Banco de Dados}

A construção de um banco de dados é de suma importância para fazer testes de requisição na API desenvolvida. Neste contexto, serão introduzidos o Diagrama Entidade-Relacionamento (DER) e o Modelo Entidade-Relacionamento (MER), fundamentais para representar graficamente a organização das entidades e os vínculos entre os dados no sistema. Em seguida, serão descritos o esquema do banco de dados, suas tabelas e os relacionamentos estabelecidos entre elas, proporcionando uma visão clara da estrutura de armazenamento de informações. Essas representações visuais são cruciais para entender a estrutura lógica e física do banco de dados, bem como para facilitar o processo de manutenção e expansão futura do software.

\subsection{Modelo Entidade-Relacionamento (MER)}

A construção deste diagrama conceitual foi de suma importância para a modelagem de dados, representando o mini mundo em questão de um possível aplicativo de caronas. Transformar um recorte do mundo real, para o significado dos dados e como eles se relacionam é crucial na precisão das buscas de informações armazenadas no servidor. A figura do ``Anexo A'' mostra o diagrama entidade-relacionamento deste projeto.


\subsection{Diagrama Entidade-Relacionamento (DER)}

Após a modelagem do diagrama anterior, foi possível utilizar o BrModelo para realizar a conversão das tabelas necessárias no banco de dados. O DER facilita a compreensão do MER, tornando a estrutura do banco de dados mais intuitiva e visual, detalhando as chaves primárias, estrangeiras e as cardinalidades. A figura do ``Anexo B'' demonstra as tabelas convertidas, suas chaves e cardinalidades.

\subsection{Dicionário de Dados}

O Dicionário de Dados é uma seção essencial em projetos acadêmicos e de desenvolvimento de software, pois descreve detalhadamente as tabelas que compõem o banco de dados relacional, bem como seus atributos. Esta seção tem como objetivo proporcionar uma visão clara e organizada da estrutura do banco de dados, listando as entidades e suas respectivas características. No contexto deste trabalho, as principais tabelas incluem Usuários, Endereços, Motoristas, Veículos, Viagens, Reservas, Mensagens e Avaliações. A seguir, será apresentada a descrição de cada tabela, incluindo suas principais colunas e uma breve explicação dos atributos mais relevantes.

% tabela de usuário
\begin{longtblr}[
	caption = {Banco de Dados - Usuários},
	label = {tab:requisitos},
	entry = none,
	]{
		width = \linewidth,
		colspec = {Q[190]Q[160]Q[620]},
		row{1} = {c},
		row{2} = {c},
		cell{1}{1} = {c=3}{0.938\linewidth},
		cell{3}{1} = {c},
		cell{3}{2} = {c},
		cell{4}{1} = {c},
		cell{4}{2} = {c},
		cell{5}{1} = {c},
		cell{5}{2} = {c},
		cell{6}{1} = {c},
		cell{6}{2} = {c},
		cell{7}{1} = {c},
		cell{7}{2} = {c},
		cell{8}{1} = {c},
		cell{8}{2} = {c},
		cell{9}{1} = {c},
		cell{9}{2} = {c},
		cell{10}{1} = {c},
		cell{10}{2} = {c},
		cell{11}{1} = {c},
		cell{11}{2} = {c},
		cell{12}{1} = {c},
		cell{12}{2} = {c},
		cell{13}{1} = {c},
		cell{13}{2} = {c},
		cell{14}{1} = {c},
		cell{14}{2} = {c},
		cell{15}{1} = {c},
		cell{15}{2} = {c},
		cell{16}{1} = {c},
		cell{16}{2} = {c},
		cell{17}{1} = {c},
		cell{17}{2} = {c},
		hlines,
		vlines,
	}
	\textbf{Usuários} &  & \\
	\textbf{NOME} & \textbf{TIPO DE DADOS} & \textbf{DESCRIÇÃO}\\
	nome & VARCHAR & Nome do usuário.\\
	senha & VARCHAR~ & {Senha forte, com no mínimo 8 caracteres, incluindo\\letras maiusculas, minúsculas, números e caracteres\\especiais.}\\
	segundo\_nome & VARCHAR & Sobrenome do usuário.\\
	email & VARCHAR~ & E-mail único, utilizado para login.\\
	data\_criacao & DATE & Armazena a data da criação do perfil.\\
	foto\_perfil & VARCHAR~ & Caminho para a foto de perfil do usuário.\\
	data\_atualizacao & DATE & Ultima atualização do usuário.\\
	telefone & VARCHAR & Número de telefone válido.~\\
	(PK) idUsuario & VARCHAR & Chave primária, identificador único do usuário.\\
	eh\_motorista & BOOLEAN & Diferencia o usuário do motorista.\\
	ativo & BOOLEAN & Salva a informação se o usuário é ativo.\\
	licenca & VARCHAR~ & Número da CNH, salvo quando o motorista é registrado no sistema.\\
	(PK) idMotorista & VARCHAR~ & Chave primária, identificador único do usuário cadastrado como motorista.\\
	(FK) fk\_avaliação & VARCHAR~ & Chave estrangeira, referencia a tabela "avaliações".\\
	(FK) fk\_endereço & VARCHAR & Chave estrangeira, referencia a tabela "endereços".
\end{longtblr}

% Tabela REALIZA

\begin{longtblr}[
	caption = {Banco de Dados - Realiza},
	label = {tab:requisitos},
	entry = none,
	]{
		width = \linewidth,
		colspec = {Q[156]Q[215]Q[571]},
		row{1} = {c},
		row{2} = {c},
		cell{1}{1} = {c=3}{0.942\linewidth},
		cell{3}{1} = {c},
		cell{3}{2} = {c},
		cell{4}{1} = {c},
		cell{4}{2} = {c},
		hlines,
		vlines,
	}
	\textbf{REALIZA} &                        &                                                   \\
	\textbf{NOME}    & \textbf{TIPO DE DADOS} & \textbf{DESCRIÇÃO}                                \\
	(FK) reserva     & VARCHAR                & Chave estrangeira, referência à tabela “reservas” \\
	(FK) usuario     & VARCHAR                & Chave estrangeira,referência à tabela “usuarios”  
\end{longtblr}


% Tabela TROCA

\begin{longtblr}[
	caption = {Banco de Dados - Troca},
	label = {tab:requisitos},
	entry = none,
	]{
		width = \linewidth,
		colspec = {Q[121]Q[129]Q[690]},
		row{1} = {c},
		row{2} = {c},
		cell{1}{1} = {c=3}{0.94\linewidth},
		cell{3}{1} = {c},
		cell{3}{2} = {c},
		cell{4}{1} = {c},
		cell{4}{2} = {c},
		cell{5}{1} = {c},
		cell{5}{2} = {c},
		cell{6}{1} = {c},
		cell{6}{2} = {c},
		hlines,
		vlines,
	}
	\textbf{TROCA~} &                        &                                                                                                                  \\
	\textbf{NOME}   & \textbf{TIPO DE DADOS} & \textbf{DESCRIÇÃO}                                                                                               \\
	(PK) id\_troca~ & VARCHAR                & Chave primária, identificador único da tabela troca. Identifica as trocas de mensagens entre usuário e motorista \\
	(FK) usuario    & VARCHAR                & Chave estrangeira,referência à tabela “usuarios                                                                  \\
	(FK) motorista  & VARCHAR                & Chave estrangeira,referência à tabela “motoristas”                                                               \\
	(FK) mensagem   & VARCHAR                & Chave estrangeira,referência à tabela “mensagens”~                                                               
\end{longtblr}

% Tabela Mensagens

\begin{longtblr}[
	caption = {Banco de Dados - Mensagens},
	label = {tab:requisitos},
	entry = none,
	]{
		width = \linewidth,
		colspec = {Q[169]Q[210]Q[562]},
		row{1} = {c},
		row{2} = {c},
		cell{1}{1} = {c=3}{0.941\linewidth},
		cell{3}{1} = {c},
		cell{3}{2} = {c},
		cell{4}{1} = {c},
		cell{4}{2} = {c},
		cell{5}{1} = {c},
		cell{5}{2} = {c},
		hlines,
		vlines,
	}
	\textbf{MENSAGENS}    &                        &                                                 \\
	\textbf{NOME}         & \textbf{TIPO DE DADOS} & \textbf{DESCRIÇÃO}                              \\
	{(PK) \\id\_mensagem} & VARCHAR                & Chave primária, identificador único da mensagem \\
	conteudo              & TEXT                   & armazena o conteúdo das mensagens trocadas      \\
	data\_envio           & dateTime               & data do envio da mensagem~                      
\end{longtblr}

% Tabela PERTENCE

\begin{longtblr}[
	caption = {Banco de Dados - Pertence},
	label = {tab:requisitos},
	entry = none,
	]{
		width = \linewidth,
		colspec = {Q[138]Q[213]Q[588]},
		row{1} = {c},
		row{2} = {c},
		cell{1}{1} = {c=3}{0.939\linewidth},
		cell{3}{1} = {c},
		cell{3}{2} = {c},
		cell{4}{1} = {c},
		cell{4}{2} = {c},
		hlines,
		vlines,
	}
	\textbf{PERTENCE} &                        &                                                  \\
	\textbf{NOME}     & \textbf{TIPO DE DADOS} & \textbf{DESCRIÇÃO}                               \\
	{(FK)\\mensagem}  & VARCHAR                & Chave estrangeira,referência à tabela “mensagem” \\
	{(FK)\\~viagem}   & VARCHAR                & Chave estrangeira,referência à tabela “viagens”  
\end{longtblr}

% Tabela VIAGENS

% \usepackage{rotating}
% \usepackage{tabularray}
\begin{longtblr}[
	caption = {Banco de Dados - Viagens},
	label = {tab:requisitos},
	entry = none,
	]{
		width = \linewidth,
		colspec = {Q[230]X[150]X[727]},
		row{1} = {c},
		row{2} = {c},
		cell{1}{1} = {c=3}{0.94\linewidth},
		cell{3}{1} = {c},
		cell{3}{2} = {c},
		cell{4}{1} = {c},
		cell{4}{2} = {c},
		cell{5}{1} = {c},
		cell{5}{2} = {c},
		cell{6}{1} = {c},
		cell{6}{2} = {c},
		cell{7}{1} = {c},
		cell{7}{2} = {c},
		cell{8}{1} = {c},
		cell{8}{2} = {c},
		cell{9}{1} = {c},
		cell{9}{2} = {c},
		cell{10}{1} = {c},
		cell{10}{2} = {c},
		cell{11}{1} = {c},
		cell{11}{2} = {c},
		cell{12}{1} = {c},
		cell{12}{2} = {c},
		cell{13}{1} = {c},
		cell{13}{2} = {c},
		cell{14}{1} = {c},
		cell{14}{2} = {c},
		cell{15}{1} = {c},
		cell{15}{2} = {c},
		cell{16}{1} = {c},
		cell{16}{2} = {c},
		cell{17}{1} = {c},
		cell{17}{2} = {c},
		hlines,
		vlines,
	}
	\textbf{VIAGENS} &  & \\
	\textbf{NOME} & \textbf{TIPO DE DADOS} & \textbf{DESCRIÇÃO}\\
	status & ENUM & Armazena os possíveis status da corrida, variando entre agendado, em andamento,concluído ou cancelado.\\
	{data\_criacao} & dateTime & Data da criação da corrida~\\
	preco & DECIMAL & Preço da corrida, quando aplicável a monetização da mesma.\\
	{hora\_termino} & dateTime & Registra a hora que a corrida acaba.\\
	{preferencias} & VARCHAR & Preferências da corrida definidas pelos participantes antes do seu início.\\
	{data\_atualizacao} & dateTime & Data de atualização mais recente da viagem.\\
	{hora\_partida} & dateTime & Define a hora de início de uma viagem.\\
	{lugares\\\_disponiveis} & INT & Armazena a quantidade de assentos disponíveis para os passageiros de acordo com o veículo cadastrado pelo motorista.\\
	{(PK) \\idviagem} & VARCHAR & Chave primária, identificador da tabela viagem.\\
	{(FK)\\motorista} & VARCHAR & Chave estrangeira, referência à tabela ``motoristas''.\\
	{(FK) \\reservas} & VARCHAR & Chave estrangeira, referência à tabela ``reservas''.\\
	{(FK) \\avaliacao} & VARCHAR & Chave estrangeira, referência à tabela ``avaliações".\\
	{(FK) \\endereco} & VARCHAR & Chave estrangeira, referência à tabela ``endereços''.\\
	{(FK) \\veiculo} & VARCHAR & Chave estrangeira, referência à tabela ``veículos''.\\
	{(FK) \\usuario} & VARCHAR & Chave estrangeira, referência à tabela ``Usuários''.
\end{longtblr}


% Tabela RESERVAS

\begin{longtblr}[
	caption = {Banco de Dados - Reservas},
	label = {tab:requisitos},
	entry = none,
	]{
		width = \linewidth,
		colspec = {Q[210]X[150]X[737]},
		row{1} = {c},
		row{2} = {c},
		cell{1}{1} = {c=3}{0.938\linewidth},
		cell{3}{1} = {c},
		cell{3}{2} = {c},
		cell{4}{1} = {c},
		cell{4}{2} = {c},
		cell{5}{1} = {c},
		cell{5}{2} = {c},
		cell{6}{1} = {c},
		cell{6}{2} = {c},
		cell{7}{1} = {c},
		cell{7}{2} = {c},
		cell{8}{1} = {c},
		cell{8}{2} = {c},
		hlines,
		vlines,
	}
	\textbf{RESERVAS} &  & \\
	\textbf{NOME} & \textbf{TIPO DE DADOS} & \textbf{DESCRIÇÃO}\\
	{(PK) \\idReserva} & VARCHAR & Chave primária, identificador único da reserva.\\
	{hora\_reserva} & dateTime & Hora de realização da reserva.\\
	{data\_criacao} & DATE & Armazena a data da criação no momento em que a reserva é feita.~\\
	{data\\\_atualizacao} & DATE & Data da última atualização da reserva.\\
	status & ENUM & Armazena os possíveis status da reserva, variando entre agendado, em andamento,concluído ou cancelado.\\
	{status\\\_pagamento} & ENUM & Armazena os possíveis status de pagamento quando aplicável.
\end{longtblr}

% Tabela AVALIACOES

\begin{longtblr}[
	caption = {Banco de Dados - Avaliações},
	label = {tab:requisitos},
	entry = none,
	]{
		width = \linewidth,
		colspec = {Q[150]Q[204]Q[585]},
		row{1} = {c},
		row{2} = {c},
		cell{1}{1} = {c=3}{0.939\linewidth},
		cell{3}{1} = {c},
		cell{3}{2} = {c},
		cell{4}{1} = {c},
		cell{4}{2} = {c},
		cell{5}{1} = {c},
		cell{5}{2} = {c},
		cell{6}{1} = {c},
		cell{6}{2} = {c},
		cell{7}{1} = {c},
		cell{7}{2} = {c},
		cell{8}{1} = {c},
		cell{8}{2} = {c},
		hlines,
		vlines,
	}
	\textbf{AVALIAÇÕES} &  & \\
	\textbf{NOME} & \textbf{TIPO DE DADOS} & \textbf{DESCRIÇÃO}\\
	nota & INT & Numeral de 1 a 5 representando a nota da avaliação.\\
	{data\\\_envio} & dateTime & {Data de envio do registro\textbf{}\\\textbf{}}\\
	comentario & TEXT & Mensagem de avaliação do usuário.~\\
	{(PK) \\idAvaliacao} & VARCHAR & Chave primária, identificador único da avaliação.\\
	{data\\\_criacao} & dateTime & Data de criação do registro.\\
	{data\\\_atualizacao} & dateTime & Data da modificação mais recente.
\end{longtblr}


% Tabela ENDEREÇOS

% \usepackage{rotating}
% \usepackage{tabularray}
\begin{longtblr}[
	caption = {Banco de Dados - Endereços},
	label = {tab:requisitos},
	entry = none,
	]{
		width = \linewidth,
		colspec = {Q[220]X[150]X[737]},
		row{1} = {c},
		row{2} = {c},
		cell{1}{1} = {c=3}{0.938\linewidth},
		cell{3}{1} = {c},
		cell{3}{2} = {c},
		cell{4}{1} = {c},
		cell{4}{2} = {c},
		cell{5}{1} = {c},
		cell{5}{2} = {c},
		cell{6}{1} = {c},
		cell{6}{2} = {c},
		cell{7}{1} = {c},
		cell{7}{2} = {c},
		cell{8}{1} = {c},
		cell{8}{2} = {c},
		cell{9}{1} = {c},
		cell{9}{2} = {c},
		hlines,
		vlines,
	}
	\textbf{ENDEREÇOS} &  & \\
	\textbf{NOME} & \textbf{TIPO DE DADOS} & \textbf{\textbf{DESCRIÇÃO}}\\
	{(PK)\\idEndereco} & VARCHAR & Chave primária, identificador único do endereço\\
	cidade & VARCHAR & Nome da cidade\\
	longitude & REAL & coordenada que especifica a posição geográfica da posição norte-sul de uma cidade específica. É de suma importância nas requisições.\\
	latitude & REAL & coordenada geográfica que especifica a posição leste–oeste de uma cidade específica. É de suma importância nas requisições.\\
	{endereco\\\_formatado} & VARCHAR & Nome formatado do endereço. Importante para a precisão das pesquisas, uma vez que algumas localizações possuem nomes populares, não registrados pelos serviços de geolocalização.\\
	{data\\\_criacao} & dateTime & Data de criação do registro.\\
	{data\\\_atualizacao} & dateTime & Data da última atualização.
\end{longtblr}


% Tabela REGISTRA

\begin{longtblr}[
	caption = {Banco de Dados - Registra},
	label = {tab:requisitos},
	entry = none,
	]{
		width = \linewidth,
		colspec = {Q[121]Q[221]Q[598]},
		row{1} = {c},
		row{2} = {c},
		cell{1}{1} = {c=3}{0.94\linewidth},
		cell{3}{1} = {c},
		cell{3}{2} = {c},
		cell{4}{1} = {c},
		cell{4}{2} = {c},
		hlines,
		vlines,
	}
	\textbf{REGISTRA} &  & \\
	\textbf{NOME} & \textbf{TIPO DE DADOS} & \textbf{DESCRIÇÃO}\\
	{(FK)\\veiculo} & VARCHAR & Chave estrangeira, referência à tabela "veículos".\\
	{(FK) \\motorista} & VARCHAR & Chave estrangeira, referência à tabela "usuários".
\end{longtblr}


% Tabela VEÍCULOS

\begin{longtblr}[
	caption = {Banco de Dados - Veículos},
	label = {tab:requisitos},
	entry = none,
	]{
		width = \linewidth,
		colspec = {Q[210]Q[162]Q[611]},
		row{1} = {c},
		row{2} = {c},
		cell{1}{1} = {c=3}{0.941\linewidth},
		cell{3}{1} = {c},
		cell{3}{2} = {c},
		cell{4}{1} = {c},
		cell{4}{2} = {c},
		cell{5}{1} = {c},
		cell{5}{2} = {c},
		cell{6}{1} = {c},
		cell{6}{2} = {c},
		cell{7}{1} = {c},
		cell{7}{2} = {c},
		cell{8}{1} = {c},
		cell{8}{2} = {c},
		cell{9}{1} = {c},
		cell{9}{2} = {c},
		cell{10}{1} = {c},
		cell{10}{2} = {c},
		cell{11}{1} = {c},
		cell{11}{2} = {c},
		cell{12}{1} = {c},
		cell{12}{2} = {c},
		cell{13}{1} = {c},
		cell{13}{2} = {c},
		hlines,
		vlines,
	}
	\textbf{VEÍCULOS} &  & \\
	\textbf{NOME} & \textbf{TIPO DE DADOS} & \textbf{DESCRIÇÃO}\\
	modelo & VARCHAR & Descreve o modelo do veículo~\\
	documento & VARCHAR & Salva o número do RENAVAM do veículo\\
	marca & VARCHAR & Descreve a marca do veículo\\
	data\_criacao & dateTime & Data de cadastro do veículo.\\
	capacidade & INT & Quantidade máxima de passageiros que o veículo registrado deve possuir.\\
	cor & VARCHAR & Cor do veículo\\
	data\_atualizacao & dateTime & data da última alteração dos dados do veículo.~\\
	placa & VARCHAR & Salva o número da placa do veículo após o seu registo.\\
	ano & DATE & Ano de fabricação do veículo\\
	{(PK) \\idVeiculo} & VARCHAR & Chave primária, identificador único do veículo\\
	ativo & BOOLEAN & Verifica se o veículo ainda está ativo na aplicação ou não.
\end{longtblr}

%Fim das tabelas 

\subsection{Relacionamentos}

\begin{enumerate}
	\item \textbf{Motoristas - Veículos}
	\begin{itemize}
		\item (1,N): Cada motorista pode possuir vários veículos.
		\item (N,1): Um veículo pode ser associado a vários motoristas ao longo do tempo.
	\end{itemize}
	
	\item \textbf{Motoristas - Viagens}
	\begin{itemize}
		\item (1,N): Um motorista pode criar várias viagens.
		\item (1,1): Cada viagem é conduzida por um único motorista.
	\end{itemize}
	
	\item \textbf{Viagens - Reservas}
	\begin{itemize}
		\item (1,N): Cada viagem pode ter várias reservas.
		\item (1,1): Cada reserva está associada a uma única viagem.
	\end{itemize}
	
	\item \textbf{Usuários - Reservas}
	\begin{itemize}
		\item (1,N): Um usuário pode fazer várias reservas.
		\item (N,1): Cada reserva é feita por um único usuário.
	\end{itemize}
	
	\item \textbf{Usuários - Endereços}
	\begin{itemize}
		\item (1,N): Um usuário pode ter vários endereços.
		\item (N,1): Cada endereço pertence a um único usuário.
	\end{itemize}
	
	\item \textbf{Viagens - Avaliações}
	\begin{itemize}
		\item (1,N): Cada viagem pode ter várias avaliações.
		\item (1,1): Cada avaliação é feita para uma única viagem.
	\end{itemize}
	
	\item \textbf{Usuários - Avaliações}
	\begin{itemize}
		\item (1,N): Um usuário pode fazer várias avaliações.
		\item (N,1): Cada avaliação é feita por um único usuário.
	\end{itemize}
	
	\item \textbf{Usuários - Mensagens}
	\begin{itemize}
		\item (1,N): Um usuário pode enviar e receber várias mensagens.
		\item (N,1): Cada mensagem tem um remetente e um destinatário únicos, podendo envolver diferentes usuários.
	\end{itemize}
	
	\item \textbf{Endereço - Viagens}
	\begin{itemize}
		\item (1,N): Cada viagem pode ter vários endereços associados.
		\item (N,1): Cada endereço pode estar associado a várias viagens.
	\end{itemize}
	
	\item \textbf{Mensagens - Viagens}
	\begin{itemize}
		\item (1,N): Cada viagem pode ter várias mensagens associadas.
		\item (N,1): Cada mensagem pode estar associada a várias viagens.
	\end{itemize}
\end{enumerate}


% FIM do Banco de Dados 

% Arquitetura 

\section{Arquitetura do Sistema}

Durante a produção de qualquer software é necessário garantir que o sistema seja robusto, eficiente e adaptável às necessidades do usuário. Com essa finalidade existe a arquitetura de sistema, responsável pela estrutura e organização dos componentes de um software, incluindo a maneira como esses elementos interagem entre si e com o ambiente externo. Com a finalidade de seguir os padrões de mercado, definiu-se um conjunto de regras aplicando os saberes adquiridos nas matérias Programação Programação Orientada a Objetos, Programação Web I e Banco de Dados I.

\subsection{Organização do Projeto}

Primordialmente, foi fundamental criar uma organização no \textit{ GitHub} para gerenciar futuras atualizações do projeto entre os desenvolvedores, a qual pode ser acessada por meio do link: [https://github.com/projeto-integrador-tads/]. Definiu-se que a \textit{API}, trabalharia com o estilo \textit{RESTful} para comunicação entre os componentes, além de separar as responsabilidades da aplicação em três partes principais, conhecidas como \textit{Model, View e Controller}. A estrutura de pastas pode ser observada na imagem seguinte:


% figura 1
\begin{figure} [h!]
	\centering
	\includegraphics[scale=0.3]{img/pastas.png}
	\caption{Estrutura de pastas,2024}
	\label{fig:EstruturaDePastas}
\end{figure}


\subsection{Requisitos Funcionais}

Na sequência, foi realizado o levantamento dos requisitos técnicos, divididos em funcionais e não funcionais, com o objetivo de identificar os recursos mínimos necessários para o funcionamento inicial da aplicação, bem como visualizar,de forma mais clara, possíveis necessidades futuras, visando garantir um melhor desempenho na versão final. Nesse contexto, as funcionalidades foram definidas na tabela 6 como requisitos funcionais do sistema e, na tabela 7, como requisitos não funcionais - responsáveis por descrever as possíveis restrições do sistema até o presente momento, podendo ser implementadas futuramente.

%Tabela de levantamentos de requisitos Funcionais 

\begin{longtblr}[
	caption = {Tabela de Requisitos Funcionais do Sistema},
	label = {tab:requisitos},
	]{
		width = \linewidth,
		colspec = {Q[140]Q[160]Q[680]},
		row{1} = {c},
		cell{2}{1} = {c},
		cell{2}{2} = {c},
		cell{3}{1} = {c},
		cell{3}{2} = {c},
		cell{4}{1} = {c},
		cell{4}{2} = {c},
		cell{5}{1} = {c},
		cell{5}{2} = {c},
		cell{6}{1} = {c},
		cell{6}{2} = {c},
		cell{7}{1} = {c},
		cell{7}{2} = {c},
		cell{8}{1} = {c},
		cell{8}{2} = {c},
		hlines,
		vlines,
	}
	\textbf{Referência} & \textbf{Requisito} & \textbf{Descrição}\\
	RF01 & Criação de conta & Um novo usuário poderá ser cadastrado informando um nome, e-mail e número de telefone.\\
	RF02 & Cadastro de veículo & Cadastrar um veículo é o que possibilitará ao usuário oferecer uma carona.\\
	RF03 & Reserva de carona & Os usuários podem solicitar ou oferecer uma carona. A segunda possibilidade somente será válida para aqueles com algum veículo devidamente registrado na plataforma.\\
	RF04 & Mensagens & Os interessados na carona poderão trocar mensagens entre si com o objetivo de facilitar o encontro, definir horários e decidir detalhes da viagem.\\
	RF05 & Filtrar caronas na região & Todos os usuários podem ver as caronas oferecidas na região especificada. Cada anúncio terá informações de destino, hora da viagem, lugares disponíveis e, se aplicável, o valor.\\
	RF06 & Avaliações & A avaliação ocorrerá entre motorista e passageiro, sendo uma etapa fundamental para garantir a segurança de todos os usuários. Poderá ser atribuída uma mensagem de caráter opinativo para o público e uma nota que varia de 1 a 5.\\
	RF07 & Serviços de e-mail & Envio de e-mails específicos de notificação após determinadas ações do usuário. Será possível disparar mensagens de boas vindas, criação de corrida bem sucedida, desativação e reativação de conta, entre outras.
\end{longtblr}

% Tabela requisitos não funcionais 
% \usepackage{tabularray}
\begin{longtblr}[
	caption = {Requisitos Não Funcionais do Sistema},
	label = {tab:requisitos},
	]{
		width = \linewidth,
		colspec = {Q[140]Q[160]Q[680]},
		row{1} = {c},
		cell{2}{1} = {c},
		cell{2}{2} = {c},
		cell{3}{1} = {c},
		cell{3}{2} = {c},
		cell{4}{1} = {c},
		cell{4}{2} = {c},
		cell{5}{1} = {c},
		cell{5}{2} = {c},
		cell{6}{1} = {c},
		cell{6}{2} = {c},
		cell{7}{1} = {c},
		cell{7}{2} = {c},
		cell{8}{1} = {c},
		cell{8}{2} = {c},
		hlines,
		vlines,
	}
	\textbf{Referência} & \textbf{Requisito} & \textbf{Descrição}\\
	RNF01 & Verificação de documentos pessoais~ & Validar se os documentos cadastrados na plataforma são válidos.\\
	RNF02 & Consulta veicular & Consultar se os dados do veículo informados pelo usuário estão cadastrados na base de dados do departamento de trânsito\\
	RNF03 & Pesquisa de antecedentes criminais & A funcionalidade poderia aumentar a segurança do usuário.\\
	RNF04 & Ranking de confiança & Os usuários com a melhor pontuação poderiam ter privilégios de divulgação ao oferecer ou solicitar uma carona.\\
	RNF05 & Pagamentos & Serviços de pagamento com o objetivo de monetizar a aplicação, além da possibilidade de motoristas lucrarem de forma justa.~\\
	RNF06 & Mensagens automatizadas & O usuário pode utilizar um recurso de inteligência artificial para gerar mensagens rápidas no chat ao solicitar ou oferecer uma carona.\\
	RNF07 & Canal de Suporte & Canal dedicado para oferecer suporte para possíveis problemas e esclarecer dúvidas frequentes.
\end{longtblr}

% INICIO Critérios de Aceitação
\subsection{Critérios de Aceitação}

Os Critérios de Aceitação são fundamentais para garantir que o software atenda aos requisitos estabelecidos e ofereça uma experiência segura e funcional aos usuários. Esta seção define as condições e requisitos que devem ser cumpridos para que a versão final do sistema seja considerada aprovada e esteja pronta para uso.

\begin{enumerate}
	
	\item \textbf{Cadastro de Usuários}
	\begin{itemize}
		\item Usuários devem se cadastrar com e-mail válido e senha forte.
		\item O e-mail deve ser único.
		\item A senha deve ter no mínimo 8 caracteres.
		\item Usuários devem fornecer informações pessoais básicas.
		
	\end{itemize}
	
	\item \textbf{Segurança}
	
	\begin{itemize}
		\item Encriptação de senha no banco de dados com um\textit{ hash}.
		\item As fotos de perfil e documentos ficarão salvos na \textit{Amazon S3}.
		\item E-mails de alerta quando dados críticos sofrerem alteração (e-mail, senha).
		\item Alterar a senha possui uma quantidade máxima de tentativas por \textit{token}.
	\end{itemize}
	
	\item \textbf{Perfil de Usuário}
	
	\begin{itemize}
		\item Usuários podem atualizar seu perfil a qualquer momento.
		\item Possibilidade de alterar nome, telefone, foto de perfil, etc.
		\item Endereço de e-mail e data de nascimento não podem ser alterados sem verificação adicional.
		\item Usuários devem verificar seu e-mail após o cadastro.
		\item Envio de um e-mail de confirmação com um link para ativar a conta.
	\end{itemize}
	
	\item \textbf{Cadastro de Veículos}
	
	\begin{itemize}
		\item Motoristas devem cadastrar seus veículos para oferecer caronas.
		\item Informar marca, modelo, ano, placa, cor e número de assentos disponíveis.
		\item Motoristas devem enviar documentos comprobatórios relativos ao veículo.
	\end{itemize}
	
	\item \textbf{Publicação de Viagens}
	
	\begin{itemize}
		\item Motoristas podem criar viagens detalhando rota, data, hora e pontos de embarque/desembarque.
		\item Especificar preço por passageiro, se aplicável.
		\item Informar restrições ou preferências dos envolvidos na viagem.
		\item As viagens devem ser criadas com antecedência mínima.
		\item Definir um tempo mínimo antes do horário de partida para criação de novas viagens.
	\end{itemize}
	
	\item \textbf{Reserva de Caronas}
	
	\begin{itemize}
		\item Passageiros podem reservar vagas nas viagens disponíveis.
		\item Confirmar a reserva mediante pagamento, se aplicável.
		\item Notificação para motorista e passageiro sobre a reserva confirmada.
		\item Passageiros podem cancelar suas reservas.
		\item Definir, quando aplicável, políticas de cancelamento e reembolso.
	\end{itemize}
	
	\item \textbf{Avaliação e Feedback}
	
	\begin{itemize}
		\item Usuários podem avaliar e deixar feedback sobre as viagens.
		\item Motoristas e passageiros podem se avaliar mutuamente.
		\item Avaliações devem ser visíveis nos perfis dos usuários.
	\end{itemize}
	
	\item \textbf{Suporte}
	
	\begin{itemize}
		\item Monitoramento e resolução de problemas.
		\item Canal de suporte ao usuário para resolução de problemas e disputas.
	\end{itemize}

\end{enumerate}

% FIM dos critérios de Aceitação

% FIM Arquitetura 

\section{Tecnologias e Ferramentas}

O desenvolvimento de software exige uma variedade de recursos durante a produção. Escolher cuidadosamente as ferramentas a serem utilizadas no ambiente de desenvolvimento garante a qualidade, funcionalidade, eficácia, escalabilidade e eficiência do sistema. Nesse contexto, as seguintes tecnologias foram empregadas durante o desenvolvimento: 

\subsection{Ambiente de Trabalho}

\begin{enumerate}
	\item\textit{ Visual Studio Code} - editor de código-fonte gratuito que permite a integração com \textit{Git}, facilitando \textit{commits, pushes, pulls e merges}, além de possibilitar o uso do \textit{intelliSense} para melhorar a produtividade no ambiente de trabalho.
	
	\item \textit{GitHub} -  plataforma de hospedagem de código-fonte que permite o versionamento \textit{ Git}. Foi de suma importância para que cada colaborador trabalhasse na implementação das mudanças nos repositórios da organização.
	
	\item \textit{Node.js} -  Ferramenta de execução e interpretação da linguagem \textit{JavaScript} que permite o seu uso no ambiente de desenvolvimento, sendo de suma importância para executar os códigos criados ao lado do servidor com tal linguagem. 
\end{enumerate}


\subsection{Linguagem de Programação}

\begin{enumerate}
	\item \textit{JavaScript} -   linguagem de programação escolhida devido a sua  versatilidade, facilidade de uso, sintaxe limpa e grande oferta de \textit{frameworks.}
	\item \textit{TypeScript} - é o superset do \textit{JavaScript} que adiciona tipagem estática à linguagem,  permitindo com que o desenvolvedor possa definir os tipos de dados das suas variáveis, funções e objetos com a finalidade de tornar o código mais seguro, previsível e escalável, além de facilitar futuras refatorações

\end{enumerate}

\subsection{\textit{Framework}}
\textit{Fastify} - Uma das melhores opções entre os frameworks para \textit{Node.js,} sendo rápido, flexível e com uma excelente experiência de desenvolvimento. Foi fundamental para construir aplicações web escaláveis e de alto desempenho, além de oferecer uma boa integração com o \textit{TypeScript.}

\subsection{Banco de Dados}

\begin{enumerate}

	\item \textit{Prisma - ORM (Object-Relational Mapper)} escolhido para as interações com o banco de dados, sendo fundamental para criar migrações, assim criar, ler, atualizar e deletar dados no banco de dados se tornou mais rápido e com menos código, reduzindo a possibilidade de erros.
	
	\item  \textit{MySQL} - SGBD (Sistema Gerenciador de Banco de Dados) responsável por armazenar, organizar e gerenciar dados. É conhecido pela confiabilidade e ampla utilização nos mais variados ambientes de desenvolvimento.
	
	\item BrModelo -  foi uma ferramenta importante na modelagem do banco de dados, permitindo a elaboração de diagramas entidade-relacionamento (ER) e facilitando a sua visualização antes da implementação da versão final do banco.
	
\end{enumerate}

\subsection{Produtividade}

\begin{enumerate}
	
	\item \textit{Trello} - Utilizado para o gerenciamento do projetos baseado em metodologia visual, por meio de um sistema de quadro de Kanban, dividindo uma tarefa em várias ações para que todos os integrantes do grupo participem do projeto de forma coesa.
	
	%\begin{figure} [h!]
		%\centering
		%\includegraphics[scale=0.4]{img/trello.png}
		%\caption{Trello da Equipe,2024}
		%\label{fig:Produtividade}
	%\end{figure}
	
	
	\item \textit{ Notion} -  Necessário para os desenvolvedores centralizarem as informações importantes, bem como anotações desenvolvidas ao longo do trabalho. Entre as suas vantagens destaca-se a facilidade de uso e a integração com outras ferramentas.
	
\end{enumerate}

